# Athena Docker Deployment Configuration
# Copy this file to .env and adjust values as needed
# ============================================================================

# ============================================================================
# ENVIRONMENT & DEPLOYMENT
# ============================================================================
ENVIRONMENT=development
DEBUG=0

# ============================================================================
# POSTGRESQL DATABASE (Required)
# ============================================================================
# Database name
POSTGRES_DB=athena

# Database user
POSTGRES_USER=athena

# Database password (change for production!)
POSTGRES_PASSWORD=athena_dev

# Database port (default: 5432)
POSTGRES_PORT=5432

# Connection pool settings
ATHENA_POSTGRES_MIN_SIZE=2
ATHENA_POSTGRES_MAX_SIZE=20

# ============================================================================
# EMBEDDINGS & LLM - OLLAMA (Recommended)
# ============================================================================
# Ollama server (use 'ollama' for Docker, localhost for local)
OLLAMA_HOST=http://ollama:11434

# Ollama port (default: 11434)
OLLAMA_PORT=11434

# CPU threads for Ollama (adjust based on CPU cores)
OLLAMA_NUM_THREAD=8

# Embedding provider: ollama | anthropic | mock
EMBEDDING_PROVIDER=ollama

# ============================================================================
# ATHENA MCP SERVER
# ============================================================================
# Server port (default: 8000)
ATHENA_PORT=8000

# Metrics port for Prometheus (default: 9000)
ATHENA_METRICS_PORT=9000

# ============================================================================
# LOGGING
# ============================================================================
# Log level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Log file path (in container)
LOG_FILE=/var/log/athena/athena.log

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Consolidation batch size (events per batch)
CONSOLIDATION_BATCH_SIZE=1000

# Cache size in MB (vector cache + BM25 cache)
CACHE_SIZE_MB=512

# Maximum worker threads for async operations
MAX_WORKERS=4

# Vector search similarity threshold (0-1)
VECTOR_SIMILARITY_THRESHOLD=0.3

# ============================================================================
# OPTIONAL SERVICES
# ============================================================================
# Redis caching (optional, enable with 'docker-compose --profile full up')
REDIS_PORT=6379

# PgAdmin database browser (optional, enable with 'docker-compose --profile debug up')
PGADMIN_EMAIL=admin@athena.local
PGADMIN_PASSWORD=athena
PGADMIN_PORT=5050

# ============================================================================
# ADVANCED - ANTHROPIC API (Optional)
# ============================================================================
# Uncomment to use Anthropic instead of Ollama
# EMBEDDING_PROVIDER=anthropic
# ANTHROPIC_API_KEY=sk-ant-...

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Python settings (recommended for development)
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# Legacy SQLite fallback (optional)
# ATHENA_DB_PATH=~/.athena/memory.db
