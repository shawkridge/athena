<idea-plugin>
    <id>com.anthropic.semanticsearch</id>
    <name>Semantic Code Search</name>
    <vendor email="support@anthropic.com" url="https://anthropic.com">Anthropic</vendor>

    <description><![CDATA[
        AI-powered semantic code search with advanced RAG strategies directly in IntelliJ IDEA.
        <br>
        <br>
        <b>Features:</b>
        <ul>
            <li>Semantic search with embeddings</li>
            <li>Advanced RAG strategies (Adaptive, Self, Corrective)</li>
            <li>Multi-language support (Python, JavaScript, Java, Go)</li>
            <li>Real-time code indexing</li>
            <li>Search by type and name</li>
            <li>Dependency analysis</li>
            <li>Highly customizable</li>
        </ul>
        <br>
        <b>Quick Start:</b>
        <ol>
            <li>Press Ctrl+Shift+F to open semantic search</li>
            <li>Type your search query</li>
            <li>View results in tool window</li>
            <li>Click to navigate to code</li>
        </ol>
    ]]></description>

    <change-notes><![CDATA[
        <b>1.0.0</b>
        <ul>
            <li>Initial release</li>
            <li>Semantic search with advanced RAG</li>
            <li>Tool window for results</li>
            <li>Settings configuration</li>
        </ul>
    ]]></change-notes>

    <idea-version since-build="221" until-build="241.*"/>

    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindowFactory implementation="com.anthropic.semanticsearch.ui.SearchToolWindowFactory" id="Semantic Search"/>
        <projectConfigurable instance="com.anthropic.semanticsearch.settings.SearchSettingsConfigurable"
                           displayName="Semantic Search" groupId="tools"/>
        <projectService serviceImplementation="com.anthropic.semanticsearch.settings.SearchSettings"/>
        <projectService serviceImplementation="com.anthropic.semanticsearch.backend.BackendManager"/>
        <projectService serviceImplementation="com.anthropic.semanticsearch.search.SearchProvider"/>
    </extensions>

    <actions>
        <action id="SemanticSearch.Search"
                class="com.anthropic.semanticsearch.actions.SearchAction"
                text="Semantic Code Search"
                description="Search code semantically with advanced RAG"
                icon="AllIcons.Actions.Find">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift f"/>
        </action>

        <action id="SemanticSearch.SearchSelection"
                class="com.anthropic.semanticsearch.actions.SearchSelectionAction"
                text="Search for Selection"
                description="Search selected code"
                icon="AllIcons.Actions.Find">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt f"/>
        </action>

        <action id="SemanticSearch.AdvancedSearch"
                class="com.anthropic.semanticsearch.actions.AdvancedSearchAction"
                text="Advanced Search with RAG"
                description="Search with RAG strategies enabled"
                icon="AllIcons.Actions.Find">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift alt f"/>
        </action>

        <action id="SemanticSearch.IndexWorkspace"
                class="com.anthropic.semanticsearch.actions.IndexWorkspaceAction"
                text="Index Current Project"
                description="Re-index current project"
                icon="AllIcons.Actions.Refresh"/>

        <group id="SemanticSearch.MainGroup" text="Semantic Search" popup="true">
            <reference ref="SemanticSearch.Search"/>
            <reference ref="SemanticSearch.SearchSelection"/>
            <reference ref="SemanticSearch.AdvancedSearch"/>
            <separator/>
            <reference ref="SemanticSearch.IndexWorkspace"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </group>
    </actions>
</idea-plugin>
